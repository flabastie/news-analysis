{% extends "layout.html" %}
{% block title %}LDA{% endblock %}

{% block content %}



<script>
  var data_sections = {{ sections_scores|safe }};
  var data_dates = {{ dates_scores|safe }};
</script>

<script data-require="d3@3.5.3" data-semver="3.5.3" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.js"></script>

<div class="container-fluid">
  <main role="main" class="container">

    <!-- jumbotron -->
    <div class="jumbotron">
      <div class="row">
        <div class="col-md-9">
          <h3>Publications en 2020</h3>
        </div>
      </div>
    </div>
    <!-- end of jumbotron -->

    <section>
      <!-- linechart -->
      <div>
        <h5>Fr√©quences de publications</h5>
        <div id="line-chart"></div>
      </div>
      <!-- piechart -->
      <div>
        <h5>Publications par sections</h5>
        <div id="pie-chart"></div>
      </div>
      <!-- table -->
      <div>
        <h5>Nombres de documents par sections</h5>
        <table class="table table-striped table-sm table-exploration">
          <thead>
            <tr>
              <th>#</th>
              <th>Sections</th>
              <th>Documents</th>
              <th>%</th>
            </tr>
          </thead>
          <tbody>
              {% for item in sections_scores %}
              <tr>
                <td>{{loop.index}}</td>
                <td>{{item['section']}}</td>
                <td>{{item['score']}}</td>
                <td>{{item['percent']}}</td>
              </tr>
              {% endfor %}
          </tbody>
        </table>
      </div>
    </section>
    
        <!-- Include our script that will make our bar chart. -->
        <script type="text/javascript" src="{{ url_for('static', filename='js/chart.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='js/pie_chart.js') }}"></script>
  </main>
</div>

{% endblock %}
