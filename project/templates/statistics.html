{% extends "layout.html" %}
{% block title %}LDA{% endblock %}

{% block content %}

<script>
  var data_words = {{ scores_list|safe }};
</script>

<script src="//d3js.org/d3.v4.min.js"></script>

<div class="container-fluid">
  <main role="main" class="container document">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-3">
      <h1 class="h2 col-sm-2 p-2">Statistics</h1>
      <a class="p-2" href="{{url_for('main.exploration')}}">
        <svg width="2em" height="2em" viewBox="0 0 16 16" class="bi bi-arrow-bar-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5zM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5z"/>
        </svg>
      </a>
      <span class="ml-auto p-2">{{data['section']}} | {{data['author']}} | {{(data['date'])[:-9]}} | <a href="{{data['link']}}">Le Monde</a></span>
    </div>

    <!-- jumbotron -->
    <div class="jumbotron jumbo-statistics">
      <div class="row d-flex justify-content-start">
        <div class="col-md-9">
          <h5>{{data['title']}}</h5>
          <p>{{data['teaser']}}</p>
        </div>
        <a class="p-2" href="/document/{{id}}">
          <svg width="4em" height="4em" viewBox="0 0 16 16" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
            <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
          </svg>
        </a>
      </div>
    </div>

    <section>
      <h5 class="stats-h5">Fr√©quences de mots dans le document</h5>
      <div class="row">
        <div id="words-barplot"></div>
      </div>
      <hr>
      <h5 class="stats-h5">Document wordcloud</h5>
      <div class="row wordcloud_img">
        <img src="/wordcloud/{{id}}" alt="wordcloud">
      </div>
      <hr>
    </section>
    
  </main>
</div>

<script type="text/javascript" src="{{ url_for('static', filename='js/words-plot.js') }}"></script>

{% endblock %}
